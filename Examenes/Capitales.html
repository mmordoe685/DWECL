<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Juego de Capitales con Premios</title>
</head>
<body>

<script>
    /********************************************************
     * 1. ENTRADA DE DATOS
     ********************************************************/
    let capitales = [];

    for (let i = 0; i < 6; i++) {
        let capital = prompt("Introduce la capital número " + (i + 1));
        capitales.push(capital);
    }

    /********************************************************
     * 2. FUNCIÓN DE VALIDACIÓN Y REGULARIZACIÓN
     ********************************************************/
    function validarCapitales(lista) {
        for (let i = 0; i < lista.length; i++) {
            while (lista[i].length < 5) {
                alert("Error: la capital debe tener al menos 5 caracteres.");
                lista[i] = prompt("Introduce de nuevo la capital " + (i + 1));
            }
            lista[i] = lista[i].toLowerCase();
        }
    }

    validarCapitales(capitales);

    /********************************************************
     * 3. LÓGICA DEL JUEGO
     ********************************************************/
    let capitalSecreta = capitales[Math.floor(Math.random() * capitales.length)];
    let intentos = 0;
    let acertado = false;

    alert("¡Comienza el juego!");

    while (intentos < capitalSecreta.length && !acertado) {
        let intentoUsuario = prompt("Introduce tu intento:").toLowerCase();

        if (intentoUsuario === capitalSecreta) {
            acertado = true;
        } else {
            intentos++;

            let pista = "";
            for (let i = 0; i < capitalSecreta.length; i++) {
                if (i < intentos) {
                    pista += capitalSecreta[i] + " ";
                } else {
                    pista += "_ ";
                }
            }

            alert("Pista: " + pista);
        }
    }

    /********************************************************
     * 4. FINALIZACIÓN Y SISTEMA DE PREMIOS
     ********************************************************/
    if (acertado) {
        let premio = 0;

        if (intentos === 0) {
            premio = 500;
        } else if (intentos === 1) {
            premio = 300;
        } else if (intentos === 2) {
            premio = 100;
        }

        if (premio > 0) {
            alert("¡Enhorabuena! Has acertado la capital: " + capitalSecreta +
                  "\nHas ganado " + premio + " €");
        } else {
            alert("¡Has acertado la capital: " + capitalSecreta +
                  "\nPero no has obtenido premio.");
        }

    } else {
        alert("Has perdido. La capital era: " + capitalSecreta);
    }
</script>

</body>
</html>
